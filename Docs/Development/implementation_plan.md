# ğŸ¦” Hariness å®Ÿè£…è¨ˆç”»æ›¸ (Implementation Plan)

## ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- **æœ€çµ‚æ›´æ–°æ—¥**: 2025-12-27
- **åŸºæº–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: 
    - `05_è¦ä»¶å®šç¾©æ›¸.md`, `14_ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆæ›¸.md`, `12_APIä»•æ§˜æ›¸.md`
    - `nextjs_best_practices.md`

## ğŸš€ ãƒ•ã‚§ãƒ¼ã‚ºã‚µãƒãƒªãƒ¼

| ãƒ•ã‚§ãƒ¼ã‚º | æ©Ÿèƒ½ã‚°ãƒ«ãƒ¼ãƒ— | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | å„ªå…ˆåº¦ |
| :--- | :--- | :--- | :--- |
| **Phase 1** | åˆæœŸè¨­å®š & ç’°å¢ƒæ§‹ç¯‰ | âœ… å®Œäº† | å¿…é ˆ |
| **Phase 2** | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ & ã‚¹ã‚­ãƒ¼ãƒ | âœ… å®Œäº† | å¿…é ˆ |
| **Phase 3** | UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ) | âœ… å®Œäº† | å¿…é ˆ |
| **Phase 4** | èªè¨¼æ©Ÿèƒ½ (Auth) | âœ… å®Œäº† | å¿…é ˆ |
| **Phase 5** | ä¸»è¦æ©Ÿèƒ½ (ãƒ›ãƒ¼ãƒ  & å€‹ä½“ç®¡ç†) | ğŸš§ ç€æ‰‹ | å¿…é ˆ |
| **Phase 6** | å¥åº·è¨˜éŒ² (ã‚°ãƒ©ãƒ• & å…¥åŠ›) | ğŸ“… äºˆå®š | å¿…é ˆ |
| **Phase 7** | é€šé™¢ & ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ | ğŸ“… äºˆå®š | å¿…é ˆ |
| **Phase 8** | ãƒãƒƒãƒ—ãƒ»è¨­å®šãƒ»é€šçŸ¥ | ğŸ“… äºˆå®š | å¿…é ˆ |
| **Phase 9** | ç®¡ç†è€…æ©Ÿèƒ½ | ğŸ“… äºˆå®š | P1 |
| **Phase 10** | ä»•ä¸Šã’ãƒ»SEOãƒ»PWA | ğŸ“… äºˆå®š | å¿…é ˆ |

---

## ğŸ›  è©³ç´°ã‚¿ã‚¹ã‚¯

### ğŸ¦” Phase 1: åˆæœŸè¨­å®š (Project Setup) - âœ… å®Œäº†
- [x] Next.js 15+ App Router ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
- [x] Tailwind CSS v4 è¨­å®š (`globals.css` ã¨ HSLå¤‰æ•°)
- [x] ESLint / Prettier è¨­å®š
- [x] ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š (Zen Maru Gothic)

### ğŸ¦” Phase 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ (Database & Schema) - âœ… å®Œäº†
- [x] Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€£æº
- [x] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ (`20251226173000_initial_schema.sql`)
    - [x] å…¨15ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ (`users`, `hedgehogs`, `weight_records` ç­‰)
    - [x] RLSãƒãƒªã‚·ãƒ¼å®šç¾©
    - [x] ãƒˆãƒªã‚¬ãƒ¼ä½œæˆ (`updated_at` ç­‰)
- [x] TypeScriptå‹ç”Ÿæˆ (`database.types.ts`)

### ğŸ¦” Phase 3: å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Design System) - âœ… å®Œäº†
- [x] **ãƒ†ãƒ¼ãƒé©ç”¨**: ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ï¼†ã‚½ãƒ•ãƒˆãƒ»ãƒ“ã‚¿ãƒŸãƒ³ (ã‚ªãƒ¬ãƒ³ã‚¸/ãƒ©ã‚¤ãƒ /ã‚¯ãƒªãƒ¼ãƒ )
- [x] **ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…**:
    - [x] `Button`
    - [x] `Input`, `Textarea`, `Label`
    - [x] `Card` (Header, Content, Footer)
    - [x] `Select` (Radix UI ãƒ™ãƒ¼ã‚¹)
    - [x] `Skeleton`
- [x] **ãƒ‡ã‚¶ã‚¤ãƒ³ç¢ºèª**: `src/app/design-system/page.tsx`

### ğŸ¦” Phase 4: èªè¨¼æ©Ÿèƒ½ (Authentication) - âœ… å®Œäº†
- [x] **Server Actions (`src/app/(auth)/actions.ts`)**:
    - [x] `signUp` (A02)
    - [x] `signIn` (A01)
    - [x] `logout`
- [x] **ç”»é¢å®Ÿè£…**:
    - [x] ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ (A01) - ã‚¨ãƒ©ãƒ¼å‡¦ç†å«ã‚€
    - [x] æ–°è¦ç™»éŒ²ç”»é¢ (A02) - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å«ã‚€
    - [x] Authã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ (`/auth/callback`)
- [x] **Middleware**:
    - [x] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† (Supabase SSR)
    - [x] ä¿è­·ãƒ«ãƒ¼ãƒˆã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ (`/home` ç­‰)

---

### ğŸ¦” Phase 5: ä¸»è¦æ©Ÿèƒ½å®Ÿè£… - ãƒ›ãƒ¼ãƒ  & å€‹ä½“ç®¡ç† (Core Features)
**ç›®æ¨™**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€é£¼ã„ä¸»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®ç™»éŒ²ã€å€‹ä½“ç™»éŒ²ã‚’çµŒã¦ã€ãƒ›ãƒ¼ãƒ ç”»é¢ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚‹ã“ã¨ã€‚

#### 5.1 é£¼ã„ä¸»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«åˆæœŸç™»éŒ² (A09)
- [x] **Server Action**: `updateProfile(data)` ã®å®Ÿè£… (`getProfile` ã‚‚å«ã‚€)
    - [x] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³: ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ å¿…é ˆ (æœ€å¤§50æ–‡å­—)
- [x] **ç”»é¢å®Ÿè£… (`/onboarding/profile`)**:
    - [x] å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ : ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã€æ€§åˆ¥ã€å¹´ä»£ã€å±…ä½åœ°
    - [x] å®Œäº†å¾Œã€å€‹ä½“ç™»éŒ²ã¸é·ç§»

#### 5.2 å€‹ä½“ç™»éŒ²ãƒ»ç·¨é›† (P10, A10)
- [x] **Server Actions**:
    - [x] `createHedgehog(data)`
    - [x] `updateHedgehog(id, data)`
    - [ ] `deleteHedgehog(id)`
    - [x] `getMyHedgehogs()`
    - [x] ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç† (`hedgehog-images` ãƒã‚±ãƒƒãƒˆ)
- [x] **ç”»é¢å®Ÿè£… (`/hedgehogs/new`, `/hedgehogs/[id]/edit`)**:
    - [x] å…¥åŠ›é …ç›®: åå‰(å¿…é ˆ)ã€æ€§åˆ¥ã€ç”Ÿå¹´æœˆæ—¥ã€ãŠè¿ãˆæ—¥ã€ç”»åƒã€ç‰¹å¾´ã€ä¿é™ºç•ªå·
    - [x] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³: æœªæ¥æ—¥ãƒã‚§ãƒƒã‚¯ã€ç”»åƒã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯
    - [x] ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½

#### 5.3 ãƒ›ãƒ¼ãƒ ç”»é¢ (H10)
- [x] **Server Actions**: `getHedgehogById(id)`, `getMyReminders()`
- [x] **UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
    - [x] **ãƒ˜ãƒƒãƒ€ãƒ¼**: è¨­å®šã‚¢ã‚¤ã‚³ãƒ³ã€é€šçŸ¥ã‚¢ã‚¤ã‚³ãƒ³
    - [x] **å€‹ä½“åˆ‡æ›¿**: è¤‡æ•°é£¼è‚²æ™‚ã®åˆ‡æ›¿ã‚¿ãƒ–/ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³
    - [x] **å€‹ä½“ã‚«ãƒ¼ãƒ‰**: å†™çœŸã€åå‰ã€å¹´é½¢(æœˆé½¢è¨ˆç®—)ã€ç‰¹å¾´è¡¨ç¤º
    - [x] **ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ã€Œä»Šæ—¥ã®è¨˜éŒ²ã€(H10-2), ã€Œé€šé™¢è¨˜éŒ²ã€(H10-3)
    - [x] **ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼/ã‚¢ãƒ©ãƒ¼ãƒˆ**: å½“æ—¥ã®äºˆå®šè¡¨ç¤º
    - [x] **ãƒ•ãƒƒã‚¿ãƒ¼**: å”ä¼šãƒªãƒ³ã‚¯

#### 5.4 ãŠä¸–è©±ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ (H11, H12)
- [x] **Server Actions**: `saveReminder`, `toggleReminder`, `completeReminder`, `deleteReminder`
    - *ä¸€éƒ¨ `getMyReminders` å®Ÿè£…æ¸ˆã¿*
- [ ] **ç”»é¢å®Ÿè£…**:
    - [ ] **ä¸€è¦§ (H11)**: æ™‚é–“é †ã‚½ãƒ¼ãƒˆã€å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
    - [ ] **ç™»éŒ²ãƒ»ç·¨é›† (H12)**: æ™‚é–“è¨­å®šã€ç¹°ã‚Šè¿”ã—è¨­å®š(æ¯æ—¥/æ›œæ—¥)

#### 5.5 å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ (ãƒ˜ãƒƒãƒ€ãƒ¼/ãƒ•ãƒƒã‚¿ãƒ¼)
- [x] **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå®Ÿè£… (`src/app/(main)/layout.tsx`)**:
    - [x] å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆâ‡’è¨­å®šã¸ç§»å‹•ã€é€šçŸ¥/è¨­å®šã‚¢ã‚¤ã‚³ãƒ³ï¼‰
    - [x] å…±é€šãƒœãƒˆãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ›ãƒ¼ãƒ ã€è¨˜éŒ²å±¥æ­´ã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã€ãƒãƒƒãƒ—ï¼‰
    - [x] ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ã®ã‚¹ã‚¿ã‚¤ãƒ«çµ±ä¸€

---

### ğŸ¦” Phase 6: å¥åº·è¨˜éŒ²æ©Ÿèƒ½ (Vital Records)
**ç›®æ¨™**: ã‚°ãƒ©ãƒ•ã«ã‚ˆã‚‹å¥åº·ç®¡ç†ã¨ã€æ—¥ã€…ã®åŠ¹ç‡çš„ãªè¨˜éŒ²å…¥åŠ›ã€‚

#### 6.1 æ—¥æ¬¡è¨˜éŒ²ä¸€æ‹¬å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  (R12)
- [x] **Record History Features**
  - [x] Weight Graph (Recharts)
  - [x] Record List (Summary View)
  - [x] Date Navigation & Tab Switching
- [x] **UI Refinement (Spec Compliance)**
  - [x] Separate Weight/Environment cards
  - [x] Add Medication section
  - [x] Sticky Header & Fixed Bottom Button
- [x] **Server Actions**:
    - [x] `getDailyRecords(hedgehogId, date)`
    - [x] `saveDailyBatch(hedgehogId, date, data)` (é£Ÿäº‹ãƒ»æ’æ³„ã®é…åˆ—å‡¦ç†å«ã‚€)
- [x] **ç”»é¢å®Ÿè£… (`/records/[id]/entry`)**:
    - [x] æ—¥ä»˜ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
    - [x] ä½“é‡ãƒ»æ¸©æ¹¿åº¦: æ•°å€¤å…¥åŠ›
    - [x] é£Ÿäº‹ãƒ»æ’æ³„ãƒ»æŠ•è–¬: å‹•çš„ãƒªã‚¹ãƒˆ(è¿½åŠ /å‰Šé™¤)
    - [x] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£… (é£Ÿäº‹30æ–‡å­—åˆ¶é™ãªã©)

#### 6.2 è¨˜éŒ²å±¥æ­´ãƒ»ã‚°ãƒ©ãƒ• (R10, R11, R13)
- [x] **Server Actions**: `getWeightHistory`, `getTemperatureHumidityHistory`
- [x] **ç”»é¢å®Ÿè£… (`/records/[id]`, `/records`)**:
    - [x] **ãƒªã‚¹ãƒˆè¡¨ç¤º (R10)**: å±¥æ­´ä¸€è¦§ (ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆå®Ÿè£…)
    - [x] **è©³ç´°è¡¨ç¤º (R11)**: æ—¢å­˜ã®å…¥åŠ›ç”»é¢(`entry`)ãƒ˜é·ç§»
    - [x] **ã‚°ãƒ©ãƒ•è¡¨ç¤º (R13)**: Rechartså°å…¥ã€æœŸé–“åˆ‡æ›¿(30æ—¥/90æ—¥/180æ—¥)

---

#### 7.1 Database & Server Actions
- [x] **Schema Check**: Verified `calendar_events` and `hospital_visits`.
- [x] **Server Actions**:
  - `getMonthlyEvents`: Fetches merged events.
  - `saveEvent`, `deleteEvent`: Implemented.

#### 7.2 Calendar UI (C10)
- [x] **Page**: `src/app/(main)/hospital/page.tsx`
- [x] **Component**: `CalendarContainer` (react-day-picker).
- [x] **Component**: `DayEventsSheet` (Bottom sheet).
- [x] **Features**: Dot indicators, Hospital/Event merging.

#### 7.3 Event Management (C11)
- [x] **Page**: `src/app/(main)/hospital/events/entry/page.tsx`.
- [x] **Form**: Title, Date inputs, Validation.
- [x] **Fix**: Bottom Navigation link corrected.

#### 7.4 Hospital Records (V10) - *Next Step*

---

### ğŸ¦” Phase 8: ãƒãƒƒãƒ—ãƒ»è¨­å®šãƒ»é€šçŸ¥ (Other Features)

#### 8.1 ç—…é™¢ãƒãƒƒãƒ— (M10)
- [ ] Google My Map åŸ‹ã‚è¾¼ã¿å®Ÿè£…

#### 8.2 è¨­å®š (S00 - S15)
- [ ] ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ã€é€šçŸ¥è¨­å®šã€è¦ç´„ç¢ºèªã€é€€ä¼šå‡¦ç†

#### 8.3 é€šçŸ¥ (I10)
- [ ] ãŠçŸ¥ã‚‰ã›ã¨ã‚¢ãƒ©ãƒ¼ãƒˆã®çµ±åˆè¡¨ç¤º

---

### ğŸ¦” Phase 9: ç®¡ç†è€…æ©Ÿèƒ½ (Admin) - *P1*
- [ ] ç®¡ç†è€…æ¨©é™ãƒã‚§ãƒƒã‚¯ (Middleware)
- [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ (ADM00)ã€CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ (ADM10)ã€ãŠçŸ¥ã‚‰ã›ç®¡ç† (ADM20)

### ğŸ¦” Phase 10: ä»•ä¸Šã’ãƒ»æœ€é©åŒ– (Polish)
- [ ] ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿(SEO)è¨­å®š
- [ ] PWAå¯¾å¿œ (manifest.json, Service Worker)
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ– (`error.tsx`)
- [ ] æœ€çµ‚å‹•ä½œæ¤œè¨¼
