## 1. プロダクト概要

- プロダクト名：ハリネズミ健康管理アプリ『Hariness（ハリネス）』
- 一言で説明すると？：ハリネズミの飼い主がスマートフォンで簡単に健康状態や日々の記録を行え、日本ハリネズミ協会 ™ 管理者が記録された匿名データを閲覧・分析できる PWA 対応アプリ

---

## 2. 背景と目的（Why）

- このプロダクトを企画した理由や、現在の課題：
  1. 飼い主によるハリネズミの健康管理が手書きや記憶に頼ったアナログな方法に留まりやすく、情報整理や継続が困難
  2. 日本ハリネズミ協会 ™ 側では飼育実態の詳細なデータが集まらず、知見や統計的な分析が進みにくい状況が続いている
  3. 多頭飼いの場合、個体ごとの管理が複雑で継続が困難

- このプロダクトで実現したいこと：
  1. 飼い主による日々の健康管理の負担を軽減し、見える化する
  2. ハリネズミの飼育実態を定量的に把握し、協会活動の質を向上させる

---

## 3. 想定ユーザー（Who）

- 対象ユーザー：
  - 年齢層：20〜50 代（ハリネズミ飼い主層）
  - 性別（傾向）：女性が多い（ペット飼育の傾向）
  - 職種：
    - メイン：ハリネズミ飼い主（個人）
    - サブ：日本ハリネズミ協会 ™ 管理者
  - スキル：デジタルリテラシー中程度（スマホアプリ使用は問題ないが、専門知識は不要）
  - 利用状況：飼い主は毎日〜週数回（食事・体重記録、お世話時）、協会は月数回（データ分析、情報発信時）

- ユーザーの課題やニーズ：
  - 健康管理の記録が手間で継続できない、多頭飼いの管理が複雑
  - 飼育実態の詳細なデータが集まらず、知見や統計的な分析が進みにくい

---

## 4. 使用環境（Where / How）

- 使用デバイスや環境：
  - デバイス：スマートフォン（メイン） / タブレット / PC
  - OS：iOS、Android（メイン）、Windows、macOS（サブ）
  - ブラウザ：Chrome、Safari、Edge、Firefox
  - ネットワーク：4G/5G・WiFi（オフライン未対応）

- 利用シーン・時間帯・場所の想定（あれば）：
  - 飼い主：自宅での記録、外出先での確認、病院での記録
  - 協会：事務所でのデータ分析、情報発信作業
  - 利用時間：毎日〜週数回（飼い主）、月数回（協会）

---

## 5. 与件（Constraints）

- 制約条件・前提事項（納期、予算、既存システムなど）：
  - 予算：可能な限り無料
  - 納期：2025/1/21
  - 技術：Next.js + Supabase + Vercel
  - セキュリティ：ユーザー認証、RLS 対応
  - チーム構成：個人開発
  - 公開：App Store・Google Play 公開は対象外（PWA リンク配布）

---

## 6. 要求一覧（構造化済み）

### 6.1 機能要求

#### 【個体管理機能】

- 内容（What）：飼い主がハリネズミの個体情報を登録・編集・管理できる
- ユースケース（How）：新しいハリネズミをお迎えした際、名前・写真・生年月日・性別・迎えた日・見た目の特徴を登録する
- 背景・目的（Why）：多頭飼いの場合、個体ごとの管理が複雑で継続が困難
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）

#### 【健康記録機能】

- 内容（What）：飼い主が体重、食事、排泄状態、気温、投薬状況などの健康情報を記録できる
- ユースケース（How）：毎日の食事や週 1 回の体重測定時に、アプリで簡単に記録する
- 背景・目的（Why）：手書きや記憶に頼った管理では継続が困難で、体重記録や食事管理が継続できない
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）
- **対応する要求整理の機能**：体重・食事などの詳細情報を一元管理、グラフ化機能（体重・気温・湿度の推移確認）

#### 【通院・治療記録機能】

- 内容（What）：病院での受診記録や治療内容をテキストで記録できる
- ユースケース（How）：通院時に診断名、治療内容、次回予約日などを記録する
- 背景・目的（Why）：通院記録や健康状態の変化を把握しにくい
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）
- **対応する要求整理の機能**：通院などの詳細情報を一元管理

#### 【お世話リマインダー機能】

- 内容（What）：ごはん・掃除・投薬などのお世話を日付・時刻とセットで登録し、リマインダーとして画面表示またはプッシュ通知で通知する
- ユースケース（How）：投薬が必要な際、1 日 2 回の投薬時間をリマインダーに登録し、指定時刻にプッシュ通知でリマインドされる
- 背景・目的（Why）：お世話のタイミングを忘れがちで、適切なケアができない
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）
- **対応する要求整理の機能**：お世話リマインダー機能

#### 【アラート機能】

- 内容（What）：記録された健康データを分析し、異常を検知した際にホーム画面アラート、通知画面（履歴）、またはプッシュ通知で通知する
- ユースケース（How）：体重増減異常、食事回数低下、排泄状態異常、温度・湿度異常などを検知した際にホーム画面にアラートを表示し、通知画面（🔔）に履歴を残し、プッシュ通知でも通知する
- 背景・目的（Why）：健康状態の変化を早期に発見し、適切な対応を促すため（見逃し防止のための履歴機能含む）
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）
- **対応する要求整理の機能**：画面アラート機能（体重減少、餌やり忘れ）、通知機能（履歴表示）

#### 【協会（管理者）用データ閲覧機能】

- 内容（What）：日本ハリネズミ協会 ™ 管理者が、飼い主が記録した匿名化されたデータを閲覧・分析できる
- ユースケース（How）：協会管理者が管理画面にログインし、期間や条件を指定してデータをCSV形式で出力し、手元の分析ツールで詳細な解析を行う
- 背景・目的（Why）：協会側で飼育実態の詳細なデータが集まらず、知見や統計的な分析が進みにくい
- 対象ユーザー（Who）：日本ハリネズミ協会 ™ 管理者
- **対応する要求整理の機能**：協会は匿名化されたデータをCSV形式で受け取り可能

#### 【カレンダー機能】

- 内容（What）：飼い主が登録した情報や記録した内容をカレンダー形式で確認できる
- ユースケース（How）：カレンダー画面で個体の誕生日、通院日、記録した内容（食事、排泄状況など）を確認する
- 背景・目的（Why）：過去の記録を振り返りやすくするため
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）
- **対応する要求整理の機能**：カレンダー機能（誕生日表示、通院日（記録）表示、記録履歴表示）

#### 【病院マップ機能】

- 内容（What）：協会が提供する病院情報を Google マイマップで表示できる
- ユースケース（How）：病院マップ画面で協会提供の Google マイマップを埋め込み表示し、近くの病院を確認する
- 背景・目的（Why）：緊急時や通院時に近くの病院を素早く探せるようにするため
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）
- **対応する要求整理の機能**：病院マップ機能（協会提供マップを埋め込み表示、Google マイマップ利用）

#### 【通知機能】

- 内容（What）：運営からのお知らせや、健康状態の異常アラートを履歴として閲覧できる
- ユースケース（How）：ホーム画面ヘッダーの通知アイコン（🔔）から通知画面にアクセスし、アプリのアップデート情報や過去のアラート履歴を確認する
- 背景・目的（Why）：アプリのアップデート情報や重要な変更、および健康異常の履歴をユーザーに確実に伝達し、見逃しを防ぐため
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）

#### 【情報提供フォーム機能】

- 内容（What）：病院情報を登録するための Google フォームにアクセスできる
- ユースケース（How）：マップ画面のリンクから情報提供フォームにアクセスし、新しい病院情報を Google フォーム経由で登録する
- 背景・目的（Why）：協会が病院情報を収集し、マップを充実させるため
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）

#### 【協会HPリンク機能】

- 内容（What）：日本ハリネズミ協会 ™ の公式ホームページにアクセスできる
- ユースケース（How）：ホーム画面下部のリンクをタップし、外部ブラウザで公式サイトを開く
- 背景・目的（Why）：協会の公式情報や活動内容を確認できるようにするため
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）

#### 【協会Instagramリンク機能】

- 内容（What）：日本ハリネズミ協会 ™ のInstagramアカウントにアクセスし、配信されている飼育に関する記事を閲覧できる
- ユースケース（How）：ホーム画面下部のリンクをタップし、外部ブラウザまたはInstagramアプリで協会のInstagramアカウントを開き、協会が配信した飼育知識や情報を確認する
- 背景・目的（Why）：飼い主に正しい飼育知識を提供し、協会活動の質を向上させるため（既存のInstagramアカウントを活用）
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）

#### 【お問い合わせ先機能】

- 内容（What）：協会へのお問い合わせ先情報を確認できる
- ユースケース（How）：ホーム画面下部でお問い合わせ先情報を確認し、必要に応じてメールアプリを起動する
- 背景・目的（Why）：ユーザーが協会に問い合わせできるようにするため
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）

#### 【設定機能】

- 内容（What）：アプリの各種設定を変更できる
- ユースケース（How）：ホーム画面ヘッダーの設定アイコン（⚙）から設定画面にアクセスし、飼い主プロフィール、通知設定（プッシュ通知の有効/無効切り替え）、利用規約・プライバシーポリシーの確認、ログアウト、退会処理などを行う
- 背景・目的（Why）：ユーザーがアプリを自分好みにカスタマイズし、適切に管理できるようにするため
- 対象ユーザー（Who）：ハリネズミ飼い主（20〜50 代、女性が多い）

---

### 6.2 非機能要求

#### 【セキュリティ】

- 内容（What）：ユーザー認証、行レベルセキュリティ（RLS）、個人情報の適切な保護
- 理由・背景（Why）：飼い主の個人情報とペットの健康情報を扱うため、信頼性確保が必須
- 優先度・影響範囲：高優先度、全機能に影響

#### 【可用性】

- 内容（What）：24 時間 365 日の稼働、99%以上の稼働率
- 理由・背景（Why）：飼い主がいつでも記録できることが継続的な健康管理に直結
- 優先度・影響範囲：高優先度、全機能に影響

#### 【UI/UX】

- 内容（What）：モバイルファースト UI、直感的な操作、見やすいデザイン
- 理由・背景（Why）：飼い主の継続的な利用と協会のデータ収集のため
- 優先度・影響範囲：高優先度、全機能に影響

#### 【パフォーマンス】

- 内容（What）：快適な操作感を実現するためのパフォーマンス（ページ表示、画像読み込み、データ取得の速度）
- 理由・背景（Why）：飼い主の離脱防止と継続的な記録のため
- 優先度・影響範囲：中優先度、記録機能に影響

#### 【保守性】

- 内容（What）：PWA 対応、レスポンシブ対応（スマホ・タブレット・PC）、運用マニュアル提供
- 理由・背景（Why）：継続的な運用とユーザビリティ向上のため
- 優先度・影響範囲：中優先度、全機能に影響

#### 【データ管理】

- 内容（What）：Supabase 無料枠内での運用、自動バックアップ、可能な限り無料での運用
- 理由・背景（Why）：コスト効率とデータ安全性の確保、予算制約への対応のため
- 優先度・影響範囲：中優先度、全機能に影響

---

## 7. 今後の展開（任意）

- このプロダクトが将来的にどう発展するか（例：他部署展開、機能追加など）
  - 機能拡張（アルバム機能、情報コラム機能の追加）
  - 獣医師向け機能の追加（診療記録連携）

- 次のステップ（初級編にて設計を行いますので、今回は設計が入ります。）
  - 詳細設計フェーズ：画面設計、データベース設計、システム設計
  - 制作フェーズ：開発・テスト・デプロイ
  - 運用フェーズ：運用マニュアル作成、協会・管理者向け管理画面構築

---

## 8. 補足事項・確認すべき点

- 現時点で不明なこと、チームで確認が必要な点があれば記載
  - 想定ユーザー数の詳細（500〜1,000 名の根拠）
  - 多頭飼いの最大頭数制限
  - 協会側のデータ分析・CSV 出力要件の詳細
